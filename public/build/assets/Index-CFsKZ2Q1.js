import{r as i,j as e,H as K,L as n,a as x}from"./app-C7GeCeqo.js";import{A as M}from"./app-layout-D7W7jbGm.js";import{c as Q,B as r}from"./button-DUJ2hcPX.js";import{B as u}from"./badge-OZnWOJh7.js";import{C as j,c as g}from"./card-BsXVudJB.js";import{C}from"./checkbox-DiNa32u-.js";import{P as V,a as W,b as X,c as Y,d as Z,e as E,A as D,f as _,g as S,h as k,i as T,j as A,k as P,l as I}from"./pagination-DzoSLNfM.js";import{T as f,P as $}from"./trash-2-C5fYadDa.js";import{S as ee,a as se,E as te}from"./star-CA5xkYVR.js";import{C as ae}from"./calendar-DI2ODUFR.js";import{S as le}from"./square-pen-Cr2QEx3C.js";/* empty css            */import"./index-BpyxFFCF.js";import"./index-C5Bs_mjf.js";import"./index-CJWcNj5i.js";import"./index-BZiUBkJp.js";import"./check-DEOZK67P.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],z=Q("Clock",re),ce=[{title:"Dashboard",href:"/dashboard"},{title:"Timeline Events",href:"/timeline-events"}];function Ce({timelineEvents:t}){const[a,c]=i.useState([]),[B,o]=i.useState(!1),[O,d]=i.useState(!1),[p,N]=i.useState(null),H=s=>{s&&t.data.length>0?c(t.data.map(l=>l.id)):c([])},L=(s,l)=>{c(l?h=>[...h,s]:h=>h.filter(J=>J!==s))},R=s=>{N(s),o(!0)},U=()=>{p&&x.delete(`/timeline-events/${p}`),o(!1),N(null)},v=()=>{d(!0)},q=()=>{a.length>0&&x.post("/timeline-events/bulk-delete",{ids:a}),d(!1),c([])},F=s=>{x.patch(`/timeline-events/${s.id}/toggle-highlighted`,{},{preserveState:!0,preserveScroll:!0})},y=t.meta.total===0,m=t.meta.total,b=t.meta.from,w=t.meta.to,G=()=>e.jsx(j,{className:"overflow-hidden",children:e.jsx(g,{className:"py-16",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(z,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"No timeline events yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create your first timeline event to start documenting historical events."})]}),e.jsx("div",{className:"flex justify-center gap-2 pt-4",children:e.jsx(n,{href:"/timeline-events/create",children:e.jsxs(r,{className:"gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Create Timeline Event"]})})})]})})});return e.jsxs(M,{breadcrumbs:ce,children:[e.jsx(K,{title:"Timeline Events"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Timeline Events"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:y?"No timeline events found. Create your first timeline event to get started.":b&&w?`Showing ${b} to ${w} of ${m} results`:`${m} timeline event${m!==1?"s":""}`})]}),e.jsxs("div",{className:"flex gap-2",children:[a.length>0&&e.jsxs(r,{variant:"destructive",onClick:v,size:"sm",className:"gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Delete Selected (",a.length,")"]}),e.jsx(n,{href:"/timeline-events/create",children:e.jsxs(r,{size:"sm",className:"gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Create Timeline Event"]})})]})]}),y?e.jsx(G,{}):e.jsxs(e.Fragment,{children:[a.length>0&&e.jsx(j,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{checked:a.length===t.data.length&&t.data.length>0,onCheckedChange:H}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.length," of ",t.data.length," selected"]})]}),e.jsxs(r,{variant:"destructive",size:"sm",onClick:v,className:"gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Delete Selected"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.data.map(s=>e.jsxs(j,{className:"overflow-hidden group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(C,{checked:a.includes(s.id),onCheckedChange:l=>L(s.id,!!l)})}),e.jsx("button",{onClick:()=>F(s),className:"absolute top-3 right-3 z-10 p-1 rounded-full bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:s.is_highlighted?e.jsx(ee,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}):e.jsx(se,{className:"w-4 h-4"})}),e.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:s.translated_content.mediaUrl?s.translated_content.mediaType==="video"?e.jsx("video",{src:s.translated_content.mediaUrl,className:"w-full h-full object-cover",muted:!0}):e.jsx("img",{src:s.translated_content.mediaUrl,alt:s.translated_content.title.en,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(z,{className:"w-8 h-8"}),e.jsx("span",{className:"text-xs",children:"No media"})]})}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsxs(u,{variant:"secondary",className:"text-xs",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),s.period]})})]}),e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:s.translated_content.title.en||"Untitled Timeline Event"}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:s.translated_content.description.en||"No description"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",s.timeline_event_id]}),s.media_count>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.media_count," media item",s.media_count!==1?"s":""]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Order: ",s.sort_order]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{href:`/timeline-events/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(te,{className:"w-4 h-4"})})}),e.jsx(n,{href:`/timeline-events/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(le,{className:"w-4 h-4"})})}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>R(s.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-1",children:[s.is_highlighted&&e.jsx(u,{variant:"default",className:"text-xs",children:"Highlighted"}),!s.is_active&&e.jsx(u,{variant:"secondary",className:"text-xs",children:"Inactive"})]})]})]})})]},s.id))}),t.meta.last_page>1&&e.jsx("div",{className:"flex justify-center",children:e.jsx(V,{children:e.jsx(W,{children:t.links.map((s,l)=>e.jsx(X,{children:s.label==="&laquo; Previous"?e.jsx(Y,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):s.label==="Next &raquo;"?e.jsx(Z,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):e.jsx(E,{href:s.url||"#",isActive:s.active,className:s.url?"":"pointer-events-none opacity-50",children:s.label})},l))})})})]})]}),e.jsx(D,{open:B,onOpenChange:o,children:e.jsxs(_,{children:[e.jsxs(S,{children:[e.jsx(k,{children:"Are you sure?"}),e.jsx(T,{children:"This action cannot be undone. This will permanently delete the timeline event and all associated content."})]}),e.jsxs(A,{children:[e.jsx(P,{children:"Cancel"}),e.jsx(I,{onClick:U,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),e.jsx(D,{open:O,onOpenChange:d,children:e.jsxs(_,{children:[e.jsxs(S,{children:[e.jsxs(k,{children:["Delete ",a.length," timeline events?"]}),e.jsx(T,{children:"This action cannot be undone. This will permanently delete the selected timeline events and all associated content."})]}),e.jsxs(A,{children:[e.jsx(P,{children:"Cancel"}),e.jsx(I,{onClick:q,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})})]})}export{Ce as default};
